
| ID | Название                         | Приоритет | Описание                                                    | Эндпоинт | Проверяемые значения                                                                               | Ожидаемый результат | Связанный тест |
|----|----------------------------------|-----------|-------------------------------------------------------------|---------|----------------------------------------------------------------------------------------------------|----------------|-------------|
| TC-API-001 | Отправка не‑JSON                 | Средний   | Проверка обработки текста вместо JSON                       | `POST /payment`, `POST /credit` | `"not json"`                                                                                       | `status_code in [400, 415]` | `test_invalid_content_type` |
| TC-API-002 | Успешная оплата (дебет/кредит)   | Высокий   | Проверка по валидной карте 4441                             | `POST /payment`, `POST /credit` | `{"number": "4444 4444 4444 4441", "year": "25", "month": "12", "holder": "Andrey", "cvc": "123"}` | `status_code == 200`, `status == "APPROVED"` | `test_payment_approved` |
| TC-API-003 | Отклонение оплаты (дебет/кредит) | Высокий   | Проверка по карте 4442                                      | `POST /payment`, `POST /credit` | `{"number": "4444 4444 4444 4441", "year": "25", "month": "12", "holder": "Andrey", "cvc": "123"}` | `status_code == 200`, `status == "DECLINED"` | `test_payment_declined` |
| TC-API-004 | Некорректное тело запроса        | Высокий   | Проверка по невалидным полям                       | Поля с ошибками (неверный год, месяц, владелец, номер карты) | `POST /payment`, `POST /credit` | `{"number": "4444 4444 4444 4444","year": "24", "month": "13", "holder": "", "cvc": "1-2"}`        | `status_code == 400` | `test_invalid_request_body` |
| TC-API-005 | Невалидный номер карты           | Средний   | Номер не из 16 цифр                                         | `POST /payment`, `POST /credit` | 15, 17 цифр, спецсимволы, буквы                                                                    | `status_code == 400` | `test_invalid_card_number_length` |
| TC-API-006 | Пустое тело запроса              | Высокий   | Отправка `null`                                             | `POST /payment`, `POST /credit` | `None`                                                                                             | `status_code == 400` | `test_empty_request_body` |
| TC-API-007 | Неверный формат владельца        | Средний   | Владелец с цифрами, спецсимволами, кириллицей               | `POST /payment`, `POST /credit` | `"Andrey123", "Andrey!!!!", "12345", "!@#$%^&*()_", "Андрей"`                                      | `status_code == 200`, `status == "DECLINED"` | `test_invalid_holder` |
| TC-API-008 | Просроченная карта               | Средний   | Год меньше текущего                                         | `POST /payment`, `POST /credit` | Год 2024                                                                                           | `status_code == 200`, `status == "DECLINED"` | `test_expired_card` |
| TC-API-009 | Срок действия > 5 лет            | Средний   | Год привышает текущий на 5 лет                              | `POST /payment`, `POST /credit` | 2031                                                                                               | `status_code == 200`, `status == "DECLINED"` | `test_expired_card_old` |
| TC-API-010 | Неверная длина CVC               | Средний   | CVC ≠ 3 символа                                             | `POST /payment`, `POST /credit` | `""`, `"1"`, `"12"`, `"1234"`                                                                      | `status_code == 200`, `status == "DECLINED"` | `test_invalid_cvc_length` |
